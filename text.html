<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NguyeZ - Text Edit</title>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Tab navigation */
        .tab-container {
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            padding: 0 40px;
        }

        .tabs {
            display: flex;
            gap: 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tab {
            padding: 15px 25px;
            background: transparent;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            color: #6c757d;
        }

        .tab.active {
            color: #4facfe;
            border-bottom-color: #4facfe;
            background: white;
        }

        .tab:hover:not(.active) {
            color: #495057;
            background: rgba(79, 172, 254, 0.1);
        }

        /* Tab content */
        .tab-content {
            display: none;
            padding: 40px;
        }

        .tab-content.active {
            display: block;
        }

        /* Diff comparison styles */
        .diff-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .diff-panel {
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            overflow: hidden;
        }

        .diff-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #e1e5e9;
            font-weight: 600;
            color: #495057;
        }

        .diff-content {
            height: 300px;
            overflow-y: auto;
            font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .diff-textarea {
            width: 100%;
            height: 100%;
            border: none;
            padding: 20px;
            resize: none;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
        }

        .diff-textarea:focus {
            outline: none;
        }

        .diff-result {
            background: #f8f9fa;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            margin-top: 20px;
            overflow: hidden;
        }

        .diff-line {
            padding: 8px 20px;
            border-bottom: 1px solid #e9ecef;
            font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        .diff-line.added {
            background: #d4edda;
            color: #155724;
        }

        .diff-line.removed {
            background: #f8d7da;
            color: #721c24;
        }

        .diff-line.unchanged {
            background: #fff;
            color: #6c757d;
        }

        .diff-line:before {
            display: inline-block;
            width: 20px;
            margin-right: 10px;
            font-weight: bold;
        }

        .diff-line.added:before {
            content: '+';
            color: #28a745;
        }

        .diff-line.removed:before {
            content: '-';
            color: #dc3545;
        }

        .diff-line.unchanged:before {
            content: ' ';
        }

        /* Code editor styles */
        .code-editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .editor-panel {
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            overflow: hidden;
        }

        .editor-toolbar {
            background: #2d3748;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .language-select {
            background: #4a5568;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }

        .editor-content {
            position: relative;
            height: 400px;
            overflow: hidden;
        }

        .code-textarea {
            width: 100%;
            height: 100%;
            border: none;
            padding: 20px;
            background: #2d3748;
            color: #e2e8f0;
            font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            tab-size: 4;
        }

        .code-textarea:focus {
            outline: none;
        }

        .code-preview {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
            white-space: pre;
        }

        /* File operations */
        .file-operations {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .file-input {
            display: none;
        }

        .file-label {
            display: inline-block;
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }

        .file-label:hover {
            background: #5a6268;
        }

        /* Find and replace */
        .find-replace {
            background: #f8f9fa;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .find-replace-row {
            display: grid;
            grid-template-columns: 1fr 1fr auto auto;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .find-replace input {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 14px;
        }

        .find-replace button {
            padding: 8px 16px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .find-replace button:hover {
            background: #0056b3;
        }

        .main-content {
            padding: 40px;
        }

        .text-areas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .text-group {
            display: flex;
            flex-direction: column;
        }

        .text-group label {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            font-size: 1.1rem;
        }

        textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 14px;
            font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            line-height: 1.5;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .btn.success {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }

        .btn.warning {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
        }

        .utility-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .copy-btn {
            background: linear-gradient(135deg, #48c6ef 0%, #6f86d6 100%);
        }

        .clear-btn {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #333;
        }

        .stats {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 12px;
            color: white;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .text-areas {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 20px;
            }
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¤ NguyeZ - Text Edit</h1>
            <p>Chuyá»ƒn Ä‘á»•i vÄƒn báº£n â€¢ So sÃ¡nh â€¢ Code Editor â€¢ VÃ  nhiá»u tÃ­nh nÄƒng khÃ¡c</p>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('transform')">ğŸ”¤ Transform Text</button>
                <button class="tab" onclick="switchTab('diff')">ğŸ” So sÃ¡nh vÄƒn báº£n</button>
                <button class="tab" onclick="switchTab('editor')">ğŸ’» Code Editor</button>
                <button class="tab" onclick="switchTab('tools')">ğŸ› ï¸ Tools</button>
            </div>
        </div>
        
        <!-- Transform Text Tab -->
        <div id="transform" class="tab-content active">
            <div class="text-areas">
                <div class="text-group">
                    <label for="inputText">ğŸ“ VÄƒn báº£n gá»‘c:</label>
                    <textarea 
                        id="inputText" 
                        placeholder="Nháº­p vÄƒn báº£n cá»§a báº¡n vÃ o Ä‘Ã¢y...&#10;&#10;VÃ­ dá»¥: HELLO WORLD nÃ y lÃ  má»™t vÄƒn báº£n thá»­ nghiá»‡m!"
                        oninput="updateStats()"
                    ></textarea>
                </div>
                
                <div class="text-group">
                    <label for="outputText">âœ¨ Káº¿t quáº£:</label>
                    <textarea 
                        id="outputText" 
                        placeholder="Káº¿t quáº£ sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."
                        readonly
                    ></textarea>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn tooltip" onclick="transformText('lowercase')" data-tooltip="Chuyá»ƒn táº¥t cáº£ thÃ nh chá»¯ thÆ°á»ng">
                    ğŸ”½ Chá»¯ thÆ°á»ng
                </button>
                
                <button class="btn tooltip" onclick="transformText('uppercase')" data-tooltip="Chuyá»ƒn táº¥t cáº£ thÃ nh chá»¯ in hoa">
                    ğŸ”¼ CHá»® HOA
                </button>
                
                <button class="btn tooltip" onclick="transformText('capitalize')" data-tooltip="Viáº¿t hoa chá»¯ cÃ¡i Ä‘áº§u má»—i tá»«">
                    ğŸ¯ Viáº¿t Hoa Chá»¯ Äáº§u
                </button>
                
                <button class="btn tooltip" onclick="transformText('sentence')" data-tooltip="Viáº¿t hoa chá»¯ cÃ¡i Ä‘áº§u cÃ¢u">
                    ğŸ“ Viáº¿t hoa Ä‘áº§u cÃ¢u
                </button>
                
                <button class="btn warning tooltip" onclick="transformText('strikethrough')" data-tooltip="ThÃªm gáº¡ch ngang qua chá»¯">
                    Ì¶GÌ¶áº¡Ì¶cÌ¶hÌ¶ Ì¶nÌ¶gÌ¶aÌ¶nÌ¶gÌ¶
                </button>
                
                <button class="btn warning tooltip" onclick="transformText('underline')" data-tooltip="ThÃªm gáº¡ch chÃ¢n dÆ°á»›i chá»¯">
                    UÌ²nÌ²dÌ²eÌ²rÌ²lÌ²iÌ²nÌ²eÌ²
                </button>
                
                <button class="btn success tooltip" onclick="transformText('teencode')" data-tooltip="Chuyá»ƒn sang teen code">
                    ğŸ’¬ Teen Code
                </button>
                
                <button class="btn success tooltip" onclick="transformText('reverse')" data-tooltip="Äáº£o ngÆ°á»£c vÄƒn báº£n">
                    ğŸ”„ Äáº£o ngÆ°á»£c
                </button>
                
                <button class="btn primary tooltip" onclick="transformText('removeAccents')" data-tooltip="Bá» dáº¥u tiáº¿ng Viá»‡t">
                    ğŸš« Bá» dáº¥u
                </button>
                
                <button class="btn primary tooltip" onclick="transformText('alternating')" data-tooltip="Xen káº½ chá»¯ hoa thÆ°á»ng">
                    ğŸ­ xEn Káº½
                </button>
                
                <button class="btn tooltip" onclick="transformText('removeSpaces')" data-tooltip="XÃ³a táº¥t cáº£ khoáº£ng tráº¯ng">
                    ğŸ”— XÃ³a khoáº£ng tráº¯ng
                </button>
                
                <button class="btn tooltip" onclick="transformText('addSpaces')" data-tooltip="ThÃªm khoáº£ng tráº¯ng giá»¯a cÃ¡c kÃ½ tá»±">
                    â• T h Ãª m   k h o áº£ n g   t r áº¯ n g
                </button>
            </div>
            
            <div class="utility-controls">
                <button class="btn copy-btn" onclick="copyToClipboard()">
                    ğŸ“‹ Copy káº¿t quáº£
                </button>
                
                <button class="btn clear-btn" onclick="clearAll()">
                    ğŸ—‘ï¸ XÃ³a táº¥t cáº£
                </button>
                
                <button class="btn" onclick="swapText()">
                    ğŸ”„ HoÃ¡n Ä‘á»•i input/output
                </button>
            </div>
            
            <div class="stats">
                <h3>ğŸ“Š Thá»‘ng kÃª vÄƒn báº£n</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="charCount">0</span>
                        <span class="stat-label">KÃ½ tá»±</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="wordCount">0</span>
                        <span class="stat-label">Tá»«</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="lineCount">0</span>
                        <span class="stat-label">DÃ²ng</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="sentenceCount">0</span>
                        <span class="stat-label">CÃ¢u</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diff Comparison Tab -->
        <div id="diff" class="tab-content">
            <h2>ğŸ” So sÃ¡nh vÄƒn báº£n</h2>
            <p>So sÃ¡nh sá»± khÃ¡c biá»‡t giá»¯a hai vÄƒn báº£n giá»‘ng nhÆ° <a href="https://www.diffchecker.com/" target="_blank">Diffchecker</a></p>
            
            <div class="file-operations">
                <label class="file-label" for="diffFile1">ğŸ“ Má»Ÿ file 1</label>
                <input type="file" id="diffFile1" class="file-input" onchange="loadFile('diffText1', this)">
                
                <label class="file-label" for="diffFile2">ğŸ“ Má»Ÿ file 2</label>
                <input type="file" id="diffFile2" class="file-input" onchange="loadFile('diffText2', this)">
                
                <button class="btn" onclick="downloadDiff()">ğŸ’¾ Táº£i xuá»‘ng káº¿t quáº£</button>
                <button class="btn clear-btn" onclick="clearDiff()">ğŸ—‘ï¸ XÃ³a táº¥t cáº£</button>
            </div>

            <div class="diff-container">
                <div class="diff-panel">
                    <div class="diff-header">ğŸ“„ VÄƒn báº£n gá»‘c</div>
                    <div class="diff-content">
                        <textarea 
                            id="diffText1" 
                            class="diff-textarea"
                            placeholder="Nháº­p hoáº·c dÃ¡n vÄƒn báº£n Ä‘áº§u tiÃªn vÃ o Ä‘Ã¢y...&#10;&#10;VÃ­ dá»¥:&#10;Xin chÃ o tháº¿ giá»›i&#10;ÄÃ¢y lÃ  dÃ²ng thá»© hai&#10;VÄƒn báº£n máº«u"
                            oninput="performDiff()"
                        ></textarea>
                    </div>
                </div>

                <div class="diff-panel">
                    <div class="diff-header">ğŸ“„ VÄƒn báº£n so sÃ¡nh</div>
                    <div class="diff-content">
                        <textarea 
                            id="diffText2" 
                            class="diff-textarea"
                            placeholder="Nháº­p hoáº·c dÃ¡n vÄƒn báº£n thá»© hai vÃ o Ä‘Ã¢y...&#10;&#10;VÃ­ dá»¥:&#10;ChÃ o tháº¿ giá»›i&#10;ÄÃ¢y lÃ  dÃ²ng thá»© ba&#10;VÄƒn báº£n máº«u má»›i"
                            oninput="performDiff()"
                        ></textarea>
                    </div>
                </div>
            </div>

            <div class="diff-result" id="diffResult">
                <div class="diff-header">ğŸ“Š Káº¿t quáº£ so sÃ¡nh</div>
                <div id="diffOutput" style="padding: 20px; color: #6c757d;">
                    Nháº­p vÄƒn báº£n vÃ o cáº£ hai Ã´ phÃ­a trÃªn Ä‘á»ƒ xem káº¿t quáº£ so sÃ¡nh...
                </div>
            </div>
        </div>

        <!-- Code Editor Tab -->
        <div id="editor" class="tab-content">
            <h2>ğŸ’» Code Editor vá»›i Syntax Highlighting</h2>
            <p>Soáº¡n tháº£o code vá»›i há»— trá»£ syntax highlighting cho nhiá»u ngÃ´n ngá»¯ láº­p trÃ¬nh</p>
            
            <div class="file-operations">
                <label class="file-label" for="codeFile">ğŸ“ Má»Ÿ file code</label>
                <input type="file" id="codeFile" class="file-input" onchange="loadCodeFile(this)">
                
                <button class="btn" onclick="downloadCode()">ğŸ’¾ Táº£i xuá»‘ng code</button>
                <button class="btn" onclick="formatCode()">âœ¨ Format code</button>
                <button class="btn" onclick="runCode()">â–¶ï¸ Cháº¡y code</button>
                <button class="btn clear-btn" onclick="clearCode()">ğŸ—‘ï¸ XÃ³a code</button>
            </div>

            <div class="code-editor-container">
                <div class="editor-panel">
                    <div class="editor-toolbar">
                        <span style="color: white; font-weight: 600;">ğŸ“ Editor</span>
                        <select id="languageSelect" class="language-select" onchange="changeLanguage()">
                            <option value="html">HTML</option>
                            <option value="css">CSS</option>
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="json">JSON</option>
                            <option value="xml">XML</option>
                            <option value="sql">SQL</option>
                            <option value="php">PHP</option>
                            <option value="java">Java</option>
                            <option value="cpp">C++</option>
                            <option value="csharp">C#</option>
                            <option value="typescript">TypeScript</option>
                        </select>
                    </div>
                    <div class="editor-content">
                        <textarea 
                            id="codeEditor" 
                            class="code-textarea"
                            placeholder="Nháº­p code cá»§a báº¡n vÃ o Ä‘Ã¢y...&#10;&#10;HTML example:&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html&gt;&#10;&lt;head&gt;&#10;    &lt;title&gt;Hello World&lt;/title&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;h1&gt;Hello World!&lt;/h1&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;"
                            oninput="updatePreview()"
                            onkeydown="handleTab(event)"
                        ></textarea>
                    </div>
                </div>

                <div class="editor-panel">
                    <div class="editor-toolbar">
                        <span style="color: white; font-weight: 600;">ğŸ‘ï¸ Preview / Output</span>
                        <button class="btn" onclick="copyCode()" style="padding: 4px 12px; font-size: 12px;">ğŸ“‹ Copy</button>
                    </div>
                    <div class="editor-content">
                        <div id="codePreview" class="code-preview">
                            <!-- Syntax highlighted code sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tools Tab -->
        <div id="tools" class="tab-content">
            <h2>ğŸ› ï¸ Advanced Tools</h2>
            
            <div class="find-replace">
                <h3>ğŸ” Find & Replace</h3>
                <div class="find-replace-row">
                    <input type="text" id="findText" placeholder="TÃ¬m kiáº¿m...">
                    <input type="text" id="replaceText" placeholder="Thay tháº¿ báº±ng...">
                    <button onclick="findText()">ğŸ” TÃ¬m</button>
                    <button onclick="replaceText()">ğŸ”„ Thay tháº¿</button>
                </div>
                <div class="find-replace-row">
                    <label>
                        <input type="checkbox" id="regexMode"> Regex mode
                    </label>
                    <label>
                        <input type="checkbox" id="caseSensitive"> Case sensitive
                    </label>
                    <button onclick="replaceAll()">ğŸ”„ Thay tháº¿ táº¥t cáº£</button>
                    <button onclick="highlightMatches()">ğŸ¯ Highlight</button>
                </div>
            </div>

            <div class="text-areas">
                <div class="text-group">
                    <label for="toolsInput">ğŸ“ Input Text:</label>
                    <textarea 
                        id="toolsInput" 
                        placeholder="Nháº­p vÄƒn báº£n Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c tools..."
                        style="height: 200px;"
                    ></textarea>
                </div>
                
                <div class="text-group">
                    <label for="toolsOutput">âœ¨ Output:</label>
                    <textarea 
                        id="toolsOutput" 
                        placeholder="Káº¿t quáº£ sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."
                        style="height: 200px;"
                        readonly
                    ></textarea>
                </div>
            </div>

            <div class="controls">
                <button class="btn" onclick="extractEmails()">ğŸ“§ Extract Emails</button>
                <button class="btn" onclick="extractUrls()">ğŸ”— Extract URLs</button>
                <button class="btn" onclick="extractNumbers()">ğŸ”¢ Extract Numbers</button>
                <button class="btn" onclick="wordFrequency()">ğŸ“Š Word Frequency</button>
                <button class="btn" onclick="removeEmptyLines()">ğŸ“ Remove Empty Lines</button>
                <button class="btn" onclick="removeDuplicates()">ğŸ”„ Remove Duplicates</button>
                <button class="btn" onclick="sortLines()">ğŸ“‹ Sort Lines</button>
                <button class="btn" onclick="shuffleLines()">ğŸ² Shuffle Lines</button>
                <button class="btn" onclick="base64Encode()">ğŸ” Base64 Encode</button>
                <button class="btn" onclick="base64Decode()">ğŸ”“ Base64 Decode</button>
                <button class="btn" onclick="urlEncode()">ğŸŒ URL Encode</button>
                <button class="btn" onclick="urlDecode()">ğŸŒ URL Decode</button>
                <button class="btn" onclick="htmlEncode()">ğŸ”¤ HTML Encode</button>
                <button class="btn" onclick="htmlDecode()">ğŸ”¤ HTML Decode</button>
                <button class="btn" onclick="generatePassword()">ğŸ”‘ Generate Password</button>
                <button class="btn" onclick="generateQR()">ğŸ“± Generate QR Code</button>
            </div>

            <div class="bbcode-section" style="margin-top: 30px;">
                <h3>ğŸ“ BBCode Generator</h3>
                <p>Táº¡o BBCode cho forum, blog vÃ  cÃ¡c trang web há»— trá»£</p>
                
                <div class="controls" style="margin-bottom: 20px;">
                    <button class="btn primary" onclick="generateBBCode('bold')">**Bold**</button>
                    <button class="btn primary" onclick="generateBBCode('italic')">*Italic*</button>
                    <button class="btn primary" onclick="generateBBCode('underline')">__Underline__</button>
                    <button class="btn primary" onclick="generateBBCode('strikethrough')">~~Strike~~</button>
                    <button class="btn warning" onclick="generateBBCode('color')">ğŸ¨ Color</button>
                    <button class="btn warning" onclick="generateBBCode('size')">ğŸ“ Size</button>
                    <button class="btn warning" onclick="generateBBCode('font')">ğŸ”¤ Font</button>
                    <button class="btn success" onclick="generateBBCode('url')">ğŸ”— Link</button>
                    <button class="btn success" onclick="generateBBCode('img')">ğŸ–¼ï¸ Image</button>
                    <button class="btn success" onclick="generateBBCode('quote')">ğŸ’¬ Quote</button>
                    <button class="btn" onclick="generateBBCode('code')">ğŸ’» Code</button>
                    <button class="btn" onclick="generateBBCode('list')">ğŸ“‹ List</button>
                    <button class="btn copy-btn" onclick="copyBBCode()">ğŸ“‹ Copy BBCode</button>
                </div>

                <div class="text-areas">
                    <div class="text-group">
                        <label for="bbcodeInput">ğŸ“ Input Text:</label>
                        <textarea 
                            id="bbcodeInput" 
                            placeholder="Nháº­p vÄƒn báº£n Ä‘á»ƒ táº¡o BBCode...&#10;&#10;VÃ­ dá»¥: Hello World!"
                            style="height: 150px;"
                            oninput="previewBBCode()"
                        ></textarea>
                    </div>
                    
                    <div class="text-group">
                        <label for="bbcodeOutput">âœ¨ BBCode Output:</label>
                        <textarea 
                            id="bbcodeOutput" 
                            placeholder="BBCode sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."
                            style="height: 150px;"
                            readonly
                        ></textarea>
                    </div>
                </div>

                <div class="bbcode-preview" style="margin-top: 20px;">
                    <h4>ğŸ‘ï¸ Preview (HTML):</h4>
                    <div id="bbcodePreview" style="border: 2px solid #e1e5e9; border-radius: 8px; padding: 20px; background: #f8f9fa; min-height: 100px;">
                        BBCode preview sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y...
                    </div>
                </div>
            </div>

            <div class="markdown-section" style="margin-top: 30px;">
                <h3>ğŸ“„ Markdown Generator & Preview</h3>
                <p>Táº¡o vÃ  preview Markdown cho GitHub, documentation</p>
                
                <div class="controls" style="margin-bottom: 20px;">
                    <button class="btn primary" onclick="generateMarkdown('h1')">H1</button>
                    <button class="btn primary" onclick="generateMarkdown('h2')">H2</button>
                    <button class="btn primary" onclick="generateMarkdown('h3')">H3</button>
                    <button class="btn primary" onclick="generateMarkdown('bold')">**Bold**</button>
                    <button class="btn primary" onclick="generateMarkdown('italic')">*Italic*</button>
                    <button class="btn warning" onclick="generateMarkdown('link')">ğŸ”— Link</button>
                    <button class="btn warning" onclick="generateMarkdown('image')">ğŸ–¼ï¸ Image</button>
                    <button class="btn success" onclick="generateMarkdown('code')">ğŸ’» Code</button>
                    <button class="btn success" onclick="generateMarkdown('codeblock')">ğŸ“„ Code Block</button>
                    <button class="btn" onclick="generateMarkdown('list')">ğŸ“‹ List</button>
                    <button class="btn" onclick="generateMarkdown('table')">ğŸ“Š Table</button>
                    <button class="btn copy-btn" onclick="copyMarkdown()">ğŸ“‹ Copy Markdown</button>
                </div>

                <div class="text-areas">
                    <div class="text-group">
                        <label for="markdownInput">ğŸ“ Markdown Input:</label>
                        <textarea 
                            id="markdownInput" 
                            placeholder="# Hello World&#10;&#10;This is **bold** and *italic* text.&#10;&#10;- List item 1&#10;- List item 2"
                            style="height: 200px;"
                            oninput="previewMarkdown()"
                        ></textarea>
                    </div>
                    
                    <div class="text-group">
                        <label for="markdownPreview">ğŸ‘ï¸ HTML Preview:</label>
                        <div id="markdownPreview" style="height: 200px; overflow-y: auto; border: 2px solid #e1e5e9; border-radius: 8px; padding: 20px; background: white;">
                            Markdown preview sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y...
                        </div>
                    </div>
                </div>
            </div>

            <div class="generators-section" style="margin-top: 30px;">
                <h3>ğŸ² Generators & Utilities</h3>
                
                <div class="generator-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                    <!-- Password Generator -->
                    <div class="generator-card" style="border: 2px solid #e1e5e9; border-radius: 12px; padding: 20px; background: #f8f9fa;">
                        <h4>ğŸ”‘ Password Generator</h4>
                        <div style="margin: 15px 0;">
                            <label>
                                <input type="checkbox" id="includeUppercase" checked> Uppercase (A-Z)
                            </label><br>
                            <label>
                                <input type="checkbox" id="includeLowercase" checked> Lowercase (a-z)
                            </label><br>
                            <label>
                                <input type="checkbox" id="includeNumbers" checked> Numbers (0-9)
                            </label><br>
                            <label>
                                <input type="checkbox" id="includeSymbols"> Symbols (!@#$...)
                            </label><br>
                            <label>
                                Length: <input type="number" id="passwordLength" value="12" min="4" max="128" style="width: 60px;">
                            </label>
                        </div>
                        <button class="btn primary" onclick="generateRandomPassword()">Generate Password</button>
                        <button class="btn copy-btn" onclick="copyPassword()">ğŸ“‹ Copy</button>
                        <div id="generatedPassword" style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px; font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; word-break: break-all; min-height: 20px;"></div>
                    </div>

                    <!-- QR Code Generator -->
                    <div class="generator-card" style="border: 2px solid #e1e5e9; border-radius: 12px; padding: 20px; background: #f8f9fa;">
                        <h4>ğŸ“± QR Code Generator</h4>
                        <div style="margin: 15px 0;">
                            <input type="text" id="qrText" placeholder="Nháº­p text/URL Ä‘á»ƒ táº¡o QR code..." style="width: 100%; padding: 8px; margin-bottom: 10px;">
                            <label>
                                Size: 
                                <select id="qrSize" style="margin-left: 5px;">
                                    <option value="150">150x150</option>
                                    <option value="200" selected>200x200</option>
                                    <option value="300">300x300</option>
                                    <option value="400">400x400</option>
                                </select>
                            </label>
                        </div>
                        <button class="btn primary" onclick="generateQRCode()">Generate QR</button>
                        <button class="btn" onclick="downloadQR()">ğŸ’¾ Download</button>
                        <div id="qrResult" style="margin-top: 15px; text-align: center; min-height: 50px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        // Teen code mapping
        const teenCodeMap = {
            'a': ['4', '@', 'Ã¡', 'Ã ', 'áº£', 'Ã£', 'áº¡', 'Äƒ', 'áº¯', 'áº±', 'áº³', 'áºµ', 'áº·', 'Ã¢', 'áº¥', 'áº§', 'áº©', 'áº«', 'áº­'],
            'e': ['3', 'Ã©', 'Ã¨', 'áº»', 'áº½', 'áº¹', 'Ãª', 'áº¿', 'á»', 'á»ƒ', 'á»…', 'á»‡'],
            'i': ['1', '!', 'Ã­', 'Ã¬', 'á»‰', 'Ä©', 'á»‹'],
            'o': ['0', 'Ã³', 'Ã²', 'á»', 'Ãµ', 'á»', 'Ã´', 'á»‘', 'á»“', 'á»•', 'á»—', 'á»™', 'Æ¡', 'á»›', 'á»', 'á»Ÿ', 'á»¡', 'á»£'],
            'u': ['Ãº', 'Ã¹', 'á»§', 'Å©', 'á»¥', 'Æ°', 'á»©', 'á»«', 'á»­', 'á»¯', 'á»±'],
            's': ['5', '$'],
            't': ['7', '+'],
            'g': ['9'],
            'b': ['6'],
            'l': ['1'],
            'z': ['2'],
            'y': ['Ã½', 'á»³', 'á»·', 'á»¹', 'á»µ']
        };

        // Vietnamese accent removal mapping
        const accentMap = {
            'Ã ': 'a', 'Ã¡': 'a', 'áº¡': 'a', 'áº£': 'a', 'Ã£': 'a', 
            'Äƒ': 'a', 'áº¯': 'a', 'áº±': 'a', 'áº·': 'a', 'áº³': 'a', 'áºµ': 'a',
            'Ã¢': 'a', 'áº¥': 'a', 'áº§': 'a', 'áº­': 'a', 'áº©': 'a', 'áº«': 'a',
            'Ã¨': 'e', 'Ã©': 'e', 'áº¹': 'e', 'áº»': 'e', 'áº½': 'e',
            'Ãª': 'e', 'á»': 'e', 'áº¿': 'e', 'á»‡': 'e', 'á»ƒ': 'e', 'á»…': 'e',
            'Ã¬': 'i', 'Ã­': 'i', 'á»‹': 'i', 'á»‰': 'i', 'Ä©': 'i',
            'Ã²': 'o', 'Ã³': 'o', 'á»': 'o', 'á»': 'o', 'Ãµ': 'o',
            'Ã´': 'o', 'á»“': 'o', 'á»‘': 'o', 'á»™': 'o', 'á»•': 'o', 'á»—': 'o',
            'Æ¡': 'o', 'á»': 'o', 'á»›': 'o', 'á»£': 'o', 'á»Ÿ': 'o', 'á»¡': 'o',
            'Ã¹': 'u', 'Ãº': 'u', 'á»¥': 'u', 'á»§': 'u', 'Å©': 'u',
            'Æ°': 'u', 'á»«': 'u', 'á»©': 'u', 'á»±': 'u', 'á»­': 'u', 'á»¯': 'u',
            'á»³': 'y', 'Ã½': 'y', 'á»µ': 'y', 'á»·': 'y', 'á»¹': 'y',
            'Ä‘': 'd'
        };

        function transformText(type) {
            const input = document.getElementById('inputText').value;
            let output = '';

            switch (type) {
                case 'lowercase':
                    output = input.toLowerCase();
                    break;

                case 'uppercase':
                    output = input.toUpperCase();
                    break;

                case 'capitalize':
                    output = input.replace(/\w\S*/g, txt => 
                        txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()
                    );
                    break;

                case 'sentence':
                    output = input.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, txt => 
                        txt.toUpperCase()
                    );
                    break;

                case 'strikethrough':
                    output = input.split('').map(char => 
                        char.trim() !== '' ? char + '\u0336' : char
                    ).join('');
                    break;

                case 'underline':
                    output = input.split('').map(char => 
                        char.trim() !== '' ? char + '\u0332' : char
                    ).join('');
                    break;

                case 'teencode':
                    output = input.toLowerCase().split('').map(char => {
                        if (teenCodeMap[char]) {
                            return teenCodeMap[char][Math.floor(Math.random() * teenCodeMap[char].length)];
                        }
                        return char;
                    }).join('');
                    break;

                case 'reverse':
                    output = input.split('').reverse().join('');
                    break;

                case 'removeAccents':
                    output = input.split('').map(char => {
                        const lowerChar = char.toLowerCase();
                        if (accentMap[lowerChar]) {
                            return char === lowerChar ? accentMap[lowerChar] : accentMap[lowerChar].toUpperCase();
                        }
                        return char;
                    }).join('');
                    break;

                case 'alternating':
                    output = input.split('').map((char, index) => 
                        index % 2 === 0 ? char.toLowerCase() : char.toUpperCase()
                    ).join('');
                    break;

                case 'removeSpaces':
                    output = input.replace(/\s+/g, '');
                    break;

                case 'addSpaces':
                    output = input.split('').join(' ');
                    break;

                default:
                    output = input;
            }

            document.getElementById('outputText').value = output;
            showNotification('âœ… Chuyá»ƒn Ä‘á»•i thÃ nh cÃ´ng!');
        }

        function copyToClipboard() {
            const output = document.getElementById('outputText');
            output.select();
            output.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                showNotification('ğŸ“‹ ÄÃ£ copy vÃ o clipboard!');
            } catch (err) {
                showNotification('âŒ KhÃ´ng thá»ƒ copy! Vui lÃ²ng thá»­ láº¡i.');
            }
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
            updateStats();
            showNotification('ğŸ—‘ï¸ ÄÃ£ xÃ³a táº¥t cáº£!');
        }

        function swapText() {
            const input = document.getElementById('inputText');
            const output = document.getElementById('outputText');
            
            const temp = input.value;
            input.value = output.value;
            output.value = temp;
            
            updateStats();
            showNotification('ğŸ”„ ÄÃ£ hoÃ¡n Ä‘á»•i vÄƒn báº£n!');
        }

        function updateStats() {
            const text = document.getElementById('inputText').value;
            
            const charCount = text.length;
            const wordCount = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
            const lineCount = text === '' ? 0 : text.split('\n').length;
            const sentenceCount = text.trim() === '' ? 0 : text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
            
            document.getElementById('charCount').textContent = charCount.toLocaleString();
            document.getElementById('wordCount').textContent = wordCount.toLocaleString();
            document.getElementById('lineCount').textContent = lineCount.toLocaleString();
            document.getElementById('sentenceCount').textContent = sentenceCount.toLocaleString();
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Initialize stats on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateStats();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey) {
                    switch (e.key) {
                        case 'l':
                            e.preventDefault();
                            transformText('lowercase');
                            break;
                        case 'u':
                            e.preventDefault();
                            transformText('uppercase');
                            break;
                        case 'Enter':
                            e.preventDefault();
                            copyToClipboard();
                            break;
                    }
                }
            });
        });

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Diff comparison functionality
        function performDiff() {
            const text1 = document.getElementById('diffText1').value;
            const text2 = document.getElementById('diffText2').value;
            
            if (!text1 && !text2) {
                document.getElementById('diffOutput').innerHTML = 
                    '<div style="padding: 20px; color: #6c757d;">Nháº­p vÄƒn báº£n vÃ o cáº£ hai Ã´ phÃ­a trÃªn Ä‘á»ƒ xem káº¿t quáº£ so sÃ¡nh...</div>';
                return;
            }
            
            const lines1 = text1.split('\n');
            const lines2 = text2.split('\n');
            const diffResult = computeDiff(lines1, lines2);
            
            displayDiff(diffResult);
        }

        function computeDiff(lines1, lines2) {
            const maxLen = Math.max(lines1.length, lines2.length);
            const result = [];
            
            for (let i = 0; i < maxLen; i++) {
                const line1 = lines1[i] || '';
                const line2 = lines2[i] || '';
                
                if (line1 === line2) {
                    result.push({ type: 'unchanged', content: line1, lineNum1: i + 1, lineNum2: i + 1 });
                } else {
                    if (lines1[i] !== undefined && lines2[i] === undefined) {
                        result.push({ type: 'removed', content: line1, lineNum1: i + 1, lineNum2: null });
                    } else if (lines1[i] === undefined && lines2[i] !== undefined) {
                        result.push({ type: 'added', content: line2, lineNum1: null, lineNum2: i + 1 });
                    } else {
                        result.push({ type: 'removed', content: line1, lineNum1: i + 1, lineNum2: null });
                        result.push({ type: 'added', content: line2, lineNum1: null, lineNum2: i + 1 });
                    }
                }
            }
            
            return result;
        }

        function displayDiff(diffResult) {
            const output = document.getElementById('diffOutput');
            let html = '';
            
            diffResult.forEach(line => {
                const lineNumbers = line.lineNum1 && line.lineNum2 
                    ? `${line.lineNum1}:${line.lineNum2}` 
                    : line.lineNum1 
                        ? `${line.lineNum1}:-`
                        : `-:${line.lineNum2}`;
                
                html += `<div class="diff-line ${line.type}">
                    <span style="color: #999; margin-right: 10px; font-size: 12px;">${lineNumbers}</span>
                    ${escapeHtml(line.content)}
                </div>`;
            });
            
            output.innerHTML = html;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function clearDiff() {
            document.getElementById('diffText1').value = '';
            document.getElementById('diffText2').value = '';
            document.getElementById('diffOutput').innerHTML = 
                '<div style="padding: 20px; color: #6c757d;">Nháº­p vÄƒn báº£n vÃ o cáº£ hai Ã´ phÃ­a trÃªn Ä‘á»ƒ xem káº¿t quáº£ so sÃ¡nh...</div>';
            showNotification('ğŸ—‘ï¸ ÄÃ£ xÃ³a táº¥t cáº£ vÄƒn báº£n!');
        }

        function downloadDiff() {
            const diffOutput = document.getElementById('diffOutput').innerText;
            const blob = new Blob([diffOutput], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'diff-result.txt';
            a.click();
            URL.revokeObjectURL(url);
            showNotification('ğŸ’¾ ÄÃ£ táº£i xuá»‘ng káº¿t quáº£ so sÃ¡nh!');
        }

        // File loading functionality
        function loadFile(targetId, input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById(targetId).value = e.target.result;
                if (targetId.includes('diff')) {
                    performDiff();
                }
                showNotification(`ğŸ“ ÄÃ£ táº£i file: ${file.name}`);
            };
            reader.readAsText(file);
        }

        // Code editor functionality
        const codeTemplates = {
            html: `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello World!</h1>
</body>
</html>`,
            css: `body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 800px;
    margin: 0 auto;
}

h1 {
    color: #333;
    text-align: center;
}`,
            javascript: `// JavaScript Example
function greetUser(name) {
    console.log(\`Hello, \${name}!\`);
    return \`Welcome, \${name}!\`;
}

// Call the function
const userName = "World";
const message = greetUser(userName);
document.body.innerHTML = message;`,
            python: `# Python Example
def greet_user(name):
    """Greet a user with their name"""
    print(f"Hello, {name}!")
    return f"Welcome, {name}!"

# Call the function
user_name = "World"
message = greet_user(user_name)
print(message)`,
            json: `{
    "name": "Text Transformer Pro",
    "version": "1.0.0",
    "description": "A powerful text transformation tool",
    "features": [
        "Text transformation",
        "Diff comparison", 
        "Code editor",
        "Advanced tools"
    ],
    "author": "Developer",
    "license": "MIT"
}`
        };

        function changeLanguage() {
            const language = document.getElementById('languageSelect').value;
            const editor = document.getElementById('codeEditor');
            
            if (codeTemplates[language] && !editor.value.trim()) {
                editor.value = codeTemplates[language];
            }
            
            updatePreview();
            showNotification(`ğŸ”„ ÄÃ£ chuyá»ƒn sang ngÃ´n ngá»¯: ${language.toUpperCase()}`);
        }

        function updatePreview() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            const preview = document.getElementById('codePreview');
            
            // Basic syntax highlighting (simplified)
            let highlightedCode = escapeHtml(code);
            
            // Simple highlighting patterns
            if (language === 'html') {
                highlightedCode = highlightedCode
                    .replace(/(&lt;\/?[^&gt;]+&gt;)/g, '<span style="color: #e06c75;">$1</span>')
                    .replace(/(\w+)=/g, '<span style="color: #61afef;">$1</span>=');
            } else if (language === 'css') {
                highlightedCode = highlightedCode
                    .replace(/([.#]?[\w-]+)\s*{/g, '<span style="color: #e06c75;">$1</span> {')
                    .replace(/([\w-]+):/g, '<span style="color: #61afef;">$1</span>:');
            } else if (language === 'javascript' || language === 'typescript') {
                highlightedCode = highlightedCode
                    .replace(/\b(function|var|let|const|if|else|for|while|return|class|import|export)\b/g, '<span style="color: #c678dd;">$1</span>')
                    .replace(/\/\/.*$/gm, '<span style="color: #5c6370;">$&</span>');
            } else if (language === 'python') {
                highlightedCode = highlightedCode
                    .replace(/\b(def|class|if|else|elif|for|while|return|import|from|try|except)\b/g, '<span style="color: #c678dd;">$1</span>')
                    .replace(/#.*$/gm, '<span style="color: #5c6370;">$&</span>');
            }
            
            preview.innerHTML = highlightedCode;
        }

        function handleTab(event) {
            if (event.key === 'Tab') {
                event.preventDefault();
                const textarea = event.target;
                const start = textarea.selectionStart;
                const end = textarea.selectionEnd;
                
                textarea.value = textarea.value.substring(0, start) + '    ' + textarea.value.substring(end);
                textarea.selectionStart = textarea.selectionEnd = start + 4;
                
                updatePreview();
            }
        }

        function loadCodeFile(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('codeEditor').value = e.target.result;
                
                // Auto-detect language from file extension
                const ext = file.name.split('.').pop().toLowerCase();
                const languageMap = {
                    'html': 'html', 'htm': 'html',
                    'css': 'css',
                    'js': 'javascript', 'jsx': 'javascript',
                    'ts': 'typescript', 'tsx': 'typescript',
                    'py': 'python',
                    'json': 'json',
                    'xml': 'xml',
                    'sql': 'sql',
                    'php': 'php',
                    'java': 'java',
                    'cpp': 'cpp', 'c': 'cpp', 'h': 'cpp',
                    'cs': 'csharp'
                };
                
                if (languageMap[ext]) {
                    document.getElementById('languageSelect').value = languageMap[ext];
                }
                
                updatePreview();
                showNotification(`ğŸ“ ÄÃ£ táº£i file code: ${file.name}`);
            };
            reader.readAsText(file);
        }

        function downloadCode() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            const extensions = {
                'html': 'html', 'css': 'css', 'javascript': 'js', 'typescript': 'ts',
                'python': 'py', 'json': 'json', 'xml': 'xml', 'sql': 'sql',
                'php': 'php', 'java': 'java', 'cpp': 'cpp', 'csharp': 'cs'
            };
            
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `code.${extensions[language] || 'txt'}`;
            a.click();
            URL.revokeObjectURL(url);
            showNotification('ğŸ’¾ ÄÃ£ táº£i xuá»‘ng code!');
        }

        function formatCode() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            
            let formatted = code;
            
            if (language === 'json') {
                try {
                    const parsed = JSON.parse(code);
                    formatted = JSON.stringify(parsed, null, 2);
                } catch (e) {
                    showNotification('âŒ JSON khÃ´ng há»£p lá»‡!');
                    return;
                }
            }
            
            document.getElementById('codeEditor').value = formatted;
            updatePreview();
            showNotification('âœ¨ ÄÃ£ format code!');
        }

        function runCode() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            
            if (language === 'html') {
                const newWindow = window.open();
                newWindow.document.write(code);
                newWindow.document.close();
                showNotification('â–¶ï¸ ÄÃ£ cháº¡y HTML trong tab má»›i!');
            } else if (language === 'javascript') {
                try {
                    const result = eval(code);
                    showNotification('â–¶ï¸ Code Ä‘Ã£ cháº¡y! Check console.');
                    console.log('Result:', result);
                } catch (e) {
                    showNotification('âŒ Lá»—i: ' + e.message);
                }
            } else {
                showNotification('âš ï¸ Chá»©c nÄƒng cháº¡y code chá»‰ há»— trá»£ HTML vÃ  JavaScript!');
            }
        }

        function clearCode() {
            document.getElementById('codeEditor').value = '';
            document.getElementById('codePreview').innerHTML = '';
            showNotification('ğŸ—‘ï¸ ÄÃ£ xÃ³a táº¥t cáº£ code!');
        }

        function copyCode() {
            const code = document.getElementById('codeEditor').value;
            navigator.clipboard.writeText(code).then(() => {
                showNotification('ğŸ“‹ ÄÃ£ copy code vÃ o clipboard!');
            });
        }

        // Advanced tools functionality
        function extractEmails() {
            const text = document.getElementById('toolsInput').value;
            const emailRegex = /\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g;
            const emails = text.match(emailRegex) || [];
            document.getElementById('toolsOutput').value = emails.join('\n');
            showNotification(`ğŸ“§ TÃ¬m tháº¥y ${emails.length} email(s)!`);
        }

        function extractUrls() {
            const text = document.getElementById('toolsInput').value;
            const urlRegex = /https?:\/\/[^\s]+/g;
            const urls = text.match(urlRegex) || [];
            document.getElementById('toolsOutput').value = urls.join('\n');
            showNotification(`ğŸ”— TÃ¬m tháº¥y ${urls.length} URL(s)!`);
        }

        function extractNumbers() {
            const text = document.getElementById('toolsInput').value;
            const numberRegex = /\d+(?:\.\d+)?/g;
            const numbers = text.match(numberRegex) || [];
            document.getElementById('toolsOutput').value = numbers.join('\n');
            showNotification(`ğŸ”¢ TÃ¬m tháº¥y ${numbers.length} sá»‘!`);
        }

        function wordFrequency() {
            const text = document.getElementById('toolsInput').value.toLowerCase();
            const words = text.match(/\b\w+\b/g) || [];
            const frequency = {};
            
            words.forEach(word => {
                frequency[word] = (frequency[word] || 0) + 1;
            });
            
            const sorted = Object.entries(frequency)
                .sort((a, b) => b[1] - a[1])
                .map(([word, count]) => `${word}: ${count}`)
                .join('\n');
            
            document.getElementById('toolsOutput').value = sorted;
            showNotification('ğŸ“Š ÄÃ£ phÃ¢n tÃ­ch táº§n suáº¥t tá»«!');
        }

        function removeEmptyLines() {
            const text = document.getElementById('toolsInput').value;
            const result = text.split('\n').filter(line => line.trim() !== '').join('\n');
            document.getElementById('toolsOutput').value = result;
            showNotification('ğŸ“ ÄÃ£ xÃ³a cÃ¡c dÃ²ng trá»‘ng!');
        }

        function removeDuplicates() {
            const text = document.getElementById('toolsInput').value;
            const lines = text.split('\n');
            const unique = [...new Set(lines)];
            document.getElementById('toolsOutput').value = unique.join('\n');
            showNotification('ğŸ”„ ÄÃ£ xÃ³a cÃ¡c dÃ²ng trÃ¹ng láº·p!');
        }

        function sortLines() {
            const text = document.getElementById('toolsInput').value;
            const lines = text.split('\n').sort();
            document.getElementById('toolsOutput').value = lines.join('\n');
            showNotification('ğŸ“‹ ÄÃ£ sáº¯p xáº¿p cÃ¡c dÃ²ng!');
        }

        function shuffleLines() {
            const text = document.getElementById('toolsInput').value;
            const lines = text.split('\n');
            for (let i = lines.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [lines[i], lines[j]] = [lines[j], lines[i]];
            }
            document.getElementById('toolsOutput').value = lines.join('\n');
            showNotification('ğŸ² ÄÃ£ xÃ¡o trá»™n cÃ¡c dÃ²ng!');
        }

        function base64Encode() {
            const text = document.getElementById('toolsInput').value;
            const encoded = btoa(unescape(encodeURIComponent(text)));
            document.getElementById('toolsOutput').value = encoded;
            showNotification('ğŸ” ÄÃ£ mÃ£ hÃ³a Base64!');
        }

        function base64Decode() {
            const text = document.getElementById('toolsInput').value;
            try {
                const decoded = decodeURIComponent(escape(atob(text)));
                document.getElementById('toolsOutput').value = decoded;
                showNotification('ğŸ”“ ÄÃ£ giáº£i mÃ£ Base64!');
            } catch (e) {
                showNotification('âŒ Dá»¯ liá»‡u Base64 khÃ´ng há»£p lá»‡!');
            }
        }

        function urlEncode() {
            const text = document.getElementById('toolsInput').value;
            const encoded = encodeURIComponent(text);
            document.getElementById('toolsOutput').value = encoded;
            showNotification('ğŸŒ ÄÃ£ mÃ£ hÃ³a URL!');
        }

        function urlDecode() {
            const text = document.getElementById('toolsInput').value;
            try {
                const decoded = decodeURIComponent(text);
                document.getElementById('toolsOutput').value = decoded;
                showNotification('ğŸŒ ÄÃ£ giáº£i mÃ£ URL!');
            } catch (e) {
                showNotification('âŒ Dá»¯ liá»‡u URL khÃ´ng há»£p lá»‡!');
            }
        }

        // Find and replace functionality
        function findText() {
            const findStr = document.getElementById('findText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('âš ï¸ Vui lÃ²ng nháº­p tá»« cáº§n tÃ¬m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? 'g' : 'gi')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? 'g' : 'gi');
            
            const matches = targetText.match(regex);
            const count = matches ? matches.length : 0;
            
            showNotification(`ğŸ” TÃ¬m tháº¥y ${count} káº¿t quáº£!`);
        }

        function replaceText() {
            const findStr = document.getElementById('findText').value;
            const replaceStr = document.getElementById('replaceText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('âš ï¸ Vui lÃ²ng nháº­p tá»« cáº§n tÃ¬m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? '' : 'i')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? '' : 'i');
            
            const result = targetText.replace(regex, replaceStr);
            document.getElementById('toolsOutput').value = result;
            showNotification('ğŸ”„ ÄÃ£ thay tháº¿ vÄƒn báº£n!');
        }

        function replaceAll() {
            const findStr = document.getElementById('findText').value;
            const replaceStr = document.getElementById('replaceText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('âš ï¸ Vui lÃ²ng nháº­p tá»« cáº§n tÃ¬m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? 'g' : 'gi')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? 'g' : 'gi');
            
            const result = targetText.replace(regex, replaceStr);
            document.getElementById('toolsOutput').value = result;
            showNotification('ğŸ”„ ÄÃ£ thay tháº¿ táº¥t cáº£!');
        }

        function highlightMatches() {
            const findStr = document.getElementById('findText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('âš ï¸ Vui lÃ²ng nháº­p tá»« cáº§n tÃ¬m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? 'g' : 'gi')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? 'g' : 'gi');
            
            const highlighted = targetText.replace(regex, '**$&**');
            document.getElementById('toolsOutput').value = highlighted;
            showNotification('ğŸ¯ ÄÃ£ highlight cÃ¡c káº¿t quáº£ tÃ¬m kiáº¿m!');
        }

        // HTML encoding/decoding
        function htmlEncode() {
            const text = document.getElementById('toolsInput').value;
            const encoded = text
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
            document.getElementById('toolsOutput').value = encoded;
            showNotification('ğŸ”¤ ÄÃ£ encode HTML entities!');
        }

        function htmlDecode() {
            const text = document.getElementById('toolsInput').value;
            const decoded = text
                .replace(/&amp;/g, '&')
                .replace(/&lt;/g, '<')
                .replace(/&gt;/g, '>')
                .replace(/&quot;/g, '"')
                .replace(/&#39;/g, "'");
            document.getElementById('toolsOutput').value = decoded;
            showNotification('ğŸ”¤ ÄÃ£ decode HTML entities!');
        }

        // BBCode functionality
        function generateBBCode(type) {
            const input = document.getElementById('bbcodeInput').value;
            const selectedText = getSelectedText('bbcodeInput') || input || 'Sample text';
            let bbcode = '';

            switch (type) {
                case 'bold':
                    bbcode = `[b]${selectedText}[/b]`;
                    break;
                case 'italic':
                    bbcode = `[i]${selectedText}[/i]`;
                    break;
                case 'underline':
                    bbcode = `[u]${selectedText}[/u]`;
                    break;
                case 'strikethrough':
                    bbcode = `[s]${selectedText}[/s]`;
                    break;
                case 'color':
                    const color = prompt('Nháº­p mÃ u (vÃ­ dá»¥: red, #FF0000):', 'red');
                    bbcode = color ? `[color=${color}]${selectedText}[/color]` : selectedText;
                    break;
                case 'size':
                    const size = prompt('Nháº­p kÃ­ch thÆ°á»›c (8-36):', '14');
                    bbcode = size ? `[size=${size}]${selectedText}[/size]` : selectedText;
                    break;
                case 'font':
                    const font = prompt('Nháº­p font (vÃ­ dá»¥: Arial, Times):', 'Arial');
                    bbcode = font ? `[font=${font}]${selectedText}[/font]` : selectedText;
                    break;
                case 'url':
                    const url = prompt('Nháº­p URL:', 'https://example.com');
                    bbcode = url ? `[url=${url}]${selectedText}[/url]` : selectedText;
                    break;
                case 'img':
                    const imgUrl = prompt('Nháº­p URL hÃ¬nh áº£nh:', 'https://example.com/image.jpg');
                    bbcode = imgUrl ? `[img]${imgUrl}[/img]` : '[img]URL_IMAGE[/img]';
                    break;
                case 'quote':
                    const author = prompt('TÃ¡c giáº£ (tÃ¹y chá»n):', '');
                    bbcode = author ? `[quote=${author}]${selectedText}[/quote]` : `[quote]${selectedText}[/quote]`;
                    break;
                case 'code':
                    bbcode = `[code]${selectedText}[/code]`;
                    break;
                case 'list':
                    const items = selectedText.split('\n').filter(line => line.trim());
                    bbcode = '[list]\n' + items.map(item => `[*]${item.trim()}`).join('\n') + '\n[/list]';
                    break;
            }

            document.getElementById('bbcodeOutput').value = bbcode;
            previewBBCode();
            showNotification(`ğŸ“ ÄÃ£ táº¡o BBCode: ${type}!`);
        }

        function previewBBCode() {
            const bbcode = document.getElementById('bbcodeOutput').value;
            let html = bbcode;

            // Convert BBCode to HTML
            html = html
                .replace(/\[b\](.*?)\[\/b\]/gi, '<strong>$1</strong>')
                .replace(/\[i\](.*?)\[\/i\]/gi, '<em>$1</em>')
                .replace(/\[u\](.*?)\[\/u\]/gi, '<u>$1</u>')
                .replace(/\[s\](.*?)\[\/s\]/gi, '<del>$1</del>')
                .replace(/\[color=([^\]]+)\](.*?)\[\/color\]/gi, '<span style="color: $1;">$2</span>')
                .replace(/\[size=([^\]]+)\](.*?)\[\/size\]/gi, '<span style="font-size: $1px;">$2</span>')
                .replace(/\[font=([^\]]+)\](.*?)\[\/font\]/gi, '<span style="font-family: $1;">$2</span>')
                .replace(/\[url=([^\]]+)\](.*?)\[\/url\]/gi, '<a href="$1" target="_blank">$2</a>')
                .replace(/\[url\](.*?)\[\/url\]/gi, '<a href="$1" target="_blank">$1</a>')
                .replace(/\[img\](.*?)\[\/img\]/gi, '<img src="$1" alt="Image" style="max-width: 100%; height: auto;">')
                .replace(/\[quote=([^\]]+)\](.*?)\[\/quote\]/gi, '<blockquote><cite>$1 wrote:</cite><br>$2</blockquote>')
                .replace(/\[quote\](.*?)\[\/quote\]/gi, '<blockquote>$2</blockquote>')
                .replace(/\[code\](.*?)\[\/code\]/gi, '<pre><code>$1</code></pre>')
                .replace(/\[list\](.*?)\[\/list\]/gi, '<ul>$1</ul>')
                .replace(/\[\*\](.*?)(?=\[\*\]|\[\/list\]|$)/gi, '<li>$1</li>')
                .replace(/\n/g, '<br>');

            document.getElementById('bbcodePreview').innerHTML = html || 'BBCode preview sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y...';
        }

        function copyBBCode() {
            const bbcode = document.getElementById('bbcodeOutput').value;
            navigator.clipboard.writeText(bbcode).then(() => {
                showNotification('ğŸ“‹ ÄÃ£ copy BBCode vÃ o clipboard!');
            });
        }

        // Markdown functionality
        function generateMarkdown(type) {
            const input = document.getElementById('markdownInput').value;
            const selectedText = getSelectedText('markdownInput') || 'Sample text';
            let markdown = '';

            switch (type) {
                case 'h1':
                    markdown = `# ${selectedText}`;
                    break;
                case 'h2':
                    markdown = `## ${selectedText}`;
                    break;
                case 'h3':
                    markdown = `### ${selectedText}`;
                    break;
                case 'bold':
                    markdown = `**${selectedText}**`;
                    break;
                case 'italic':
                    markdown = `*${selectedText}*`;
                    break;
                case 'link':
                    const url = prompt('Nháº­p URL:', 'https://example.com');
                    markdown = url ? `[${selectedText}](${url})` : selectedText;
                    break;
                case 'image':
                    const imgUrl = prompt('Nháº­p URL hÃ¬nh áº£nh:', 'https://example.com/image.jpg');
                    const alt = prompt('Alt text:', selectedText);
                    markdown = imgUrl ? `![${alt}](${imgUrl})` : selectedText;
                    break;
                case 'code':
                    markdown = `\`${selectedText}\``;
                    break;
                case 'codeblock':
                    const lang = prompt('NgÃ´n ngá»¯ (tÃ¹y chá»n):', 'javascript');
                    markdown = `\`\`\`${lang}\n${selectedText}\n\`\`\``;
                    break;
                case 'list':
                    const items = selectedText.split('\n').filter(line => line.trim());
                    markdown = items.map(item => `- ${item.trim()}`).join('\n');
                    break;
                case 'table':
                    markdown = `| Header 1 | Header 2 | Header 3 |\n|----------|----------|----------|\n| Cell 1   | Cell 2   | Cell 3   |\n| Cell 4   | Cell 5   | Cell 6   |`;
                    break;
            }

            const currentInput = document.getElementById('markdownInput');
            if (currentInput.selectionStart !== currentInput.selectionEnd) {
                // Replace selected text
                const start = currentInput.selectionStart;
                const end = currentInput.selectionEnd;
                const value = currentInput.value;
                currentInput.value = value.substring(0, start) + markdown + value.substring(end);
            } else {
                // Append to current content
                currentInput.value += (currentInput.value ? '\n' : '') + markdown;
            }

            previewMarkdown();
            showNotification(`ğŸ“„ ÄÃ£ thÃªm Markdown: ${type}!`);
        }

        function previewMarkdown() {
            const markdown = document.getElementById('markdownInput').value;
            let html = markdown;

            // Simple Markdown to HTML conversion
            html = html
                .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/!\[([^\]]*)\]\(([^)]+)\)/g, '<img src="$2" alt="$1" style="max-width: 100%; height: auto;">')
                .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>')
                .replace(/`([^`]+)`/g, '<code>$1</code>')
                .replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>')
                .replace(/^- (.*$)/gim, '<li>$1</li>')
                .replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>')
                .replace(/^\| (.*) \|$/gim, '<tr><td>$1</td></tr>')
                .replace(/(<tr>.*<\/tr>)/s, '<table border="1">$1</table>')
                .replace(/\n/g, '<br>');

            document.getElementById('markdownPreview').innerHTML = html || 'Markdown preview sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y...';
        }

        function copyMarkdown() {
            const markdown = document.getElementById('markdownInput').value;
            navigator.clipboard.writeText(markdown).then(() => {
                showNotification('ğŸ“‹ ÄÃ£ copy Markdown vÃ o clipboard!');
            });
        }

        // Password Generator
        function generateRandomPassword() {
            const length = parseInt(document.getElementById('passwordLength').value);
            const includeUppercase = document.getElementById('includeUppercase').checked;
            const includeLowercase = document.getElementById('includeLowercase').checked;
            const includeNumbers = document.getElementById('includeNumbers').checked;
            const includeSymbols = document.getElementById('includeSymbols').checked;

            let charset = '';
            if (includeUppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (includeLowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
            if (includeNumbers) charset += '0123456789';
            if (includeSymbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';

            if (!charset) {
                showNotification('âš ï¸ Vui lÃ²ng chá»n Ã­t nháº¥t má»™t loáº¡i kÃ½ tá»±!');
                return;
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }

            document.getElementById('generatedPassword').textContent = password;
            showNotification(`ğŸ”‘ ÄÃ£ táº¡o password ${length} kÃ½ tá»±!`);
        }

        function copyPassword() {
            const password = document.getElementById('generatedPassword').textContent;
            if (password) {
                navigator.clipboard.writeText(password).then(() => {
                    showNotification('ğŸ“‹ ÄÃ£ copy password vÃ o clipboard!');
                });
            } else {
                showNotification('âš ï¸ ChÆ°a cÃ³ password Ä‘á»ƒ copy!');
            }
        }

        // QR Code Generator (using QR Server API)
        function generateQRCode() {
            const text = document.getElementById('qrText').value;
            const size = document.getElementById('qrSize').value;

            if (!text.trim()) {
                showNotification('âš ï¸ Vui lÃ²ng nháº­p text Ä‘á»ƒ táº¡o QR code!');
                return;
            }

            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${size}x${size}&data=${encodeURIComponent(text)}`;
            
            document.getElementById('qrResult').innerHTML = `
                <img src="${qrUrl}" alt="QR Code" style="border: 2px solid #ddd; border-radius: 8px;">
                <p style="margin-top: 10px; font-size: 12px; color: #666;">QR Code cho: ${text.substring(0, 50)}${text.length > 50 ? '...' : ''}</p>
            `;

            showNotification('ğŸ“± ÄÃ£ táº¡o QR Code thÃ nh cÃ´ng!');
        }

        function downloadQR() {
            const img = document.querySelector('#qrResult img');
            if (img) {
                const link = document.createElement('a');
                link.href = img.src;
                link.download = 'qrcode.png';
                link.click();
                showNotification('ğŸ’¾ ÄÃ£ táº£i xuá»‘ng QR Code!');
            } else {
                showNotification('âš ï¸ ChÆ°a cÃ³ QR Code Ä‘á»ƒ táº£i xuá»‘ng!');
            }
        }

        // Helper function to get selected text
        function getSelectedText(textareaId) {
            const textarea = document.getElementById(textareaId);
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            return textarea.value.substring(start, end);
        }

        // Quick functions for backwards compatibility
        function generatePassword() {
            generateRandomPassword();
        }

        function generateQR() {
            generateQRCode();
        }
    </script>

    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
</body>
</html>
