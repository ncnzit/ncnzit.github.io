<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Transformer Pro - Chuy·ªÉn ƒë·ªïi vƒÉn b·∫£n & So s√°nh & Code Editor</title>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Tab navigation */
        .tab-container {
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            padding: 0 40px;
        }

        .tabs {
            display: flex;
            gap: 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tab {
            padding: 15px 25px;
            background: transparent;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            color: #6c757d;
        }

        .tab.active {
            color: #4facfe;
            border-bottom-color: #4facfe;
            background: white;
        }

        .tab:hover:not(.active) {
            color: #495057;
            background: rgba(79, 172, 254, 0.1);
        }

        /* Tab content */
        .tab-content {
            display: none;
            padding: 40px;
        }

        .tab-content.active {
            display: block;
        }

        /* Diff comparison styles */
        .diff-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .diff-panel {
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            overflow: hidden;
        }

        .diff-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #e1e5e9;
            font-weight: 600;
            color: #495057;
        }

        .diff-content {
            height: 300px;
            overflow-y: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .diff-textarea {
            width: 100%;
            height: 100%;
            border: none;
            padding: 20px;
            resize: none;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
        }

        .diff-textarea:focus {
            outline: none;
        }

        .diff-result {
            background: #f8f9fa;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            margin-top: 20px;
            overflow: hidden;
        }

        .diff-line {
            padding: 8px 20px;
            border-bottom: 1px solid #e9ecef;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        .diff-line.added {
            background: #d4edda;
            color: #155724;
        }

        .diff-line.removed {
            background: #f8d7da;
            color: #721c24;
        }

        .diff-line.unchanged {
            background: #fff;
            color: #6c757d;
        }

        .diff-line:before {
            display: inline-block;
            width: 20px;
            margin-right: 10px;
            font-weight: bold;
        }

        .diff-line.added:before {
            content: '+';
            color: #28a745;
        }

        .diff-line.removed:before {
            content: '-';
            color: #dc3545;
        }

        .diff-line.unchanged:before {
            content: ' ';
        }

        /* Code editor styles */
        .code-editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .editor-panel {
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            overflow: hidden;
        }

        .editor-toolbar {
            background: #2d3748;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .language-select {
            background: #4a5568;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }

        .editor-content {
            position: relative;
            height: 400px;
            overflow: hidden;
        }

        .code-textarea {
            width: 100%;
            height: 100%;
            border: none;
            padding: 20px;
            background: #2d3748;
            color: #e2e8f0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            tab-size: 4;
        }

        .code-textarea:focus {
            outline: none;
        }

        .code-preview {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
            white-space: pre;
        }

        /* File operations */
        .file-operations {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .file-input {
            display: none;
        }

        .file-label {
            display: inline-block;
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }

        .file-label:hover {
            background: #5a6268;
        }

        /* Find and replace */
        .find-replace {
            background: #f8f9fa;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .find-replace-row {
            display: grid;
            grid-template-columns: 1fr 1fr auto auto;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .find-replace input {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 14px;
        }

        .find-replace button {
            padding: 8px 16px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .find-replace button:hover {
            background: #0056b3;
        }

        .main-content {
            padding: 40px;
        }

        .text-areas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .text-group {
            display: flex;
            flex-direction: column;
        }

        .text-group label {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            font-size: 1.1rem;
        }

        textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 14px;
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.5;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .btn.success {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }

        .btn.warning {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
        }

        .utility-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .copy-btn {
            background: linear-gradient(135deg, #48c6ef 0%, #6f86d6 100%);
        }

        .clear-btn {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #333;
        }

        .stats {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 12px;
            color: white;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .text-areas {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 20px;
            }
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî§ Text Transformer Pro</h1>
            <p>Chuy·ªÉn ƒë·ªïi vƒÉn b·∫£n ‚Ä¢ So s√°nh ‚Ä¢ Code Editor ‚Ä¢ V√† nhi·ªÅu t√≠nh nƒÉng kh√°c</p>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('transform')">üî§ Transform Text</button>
                <button class="tab" onclick="switchTab('diff')">üîç So s√°nh vƒÉn b·∫£n</button>
                <button class="tab" onclick="switchTab('editor')">üíª Code Editor</button>
                <button class="tab" onclick="switchTab('tools')">üõ†Ô∏è Tools</button>
            </div>
        </div>
        
        <!-- Transform Text Tab -->
        <div id="transform" class="tab-content active">
            <div class="text-areas">
                <div class="text-group">
                    <label for="inputText">üìù VƒÉn b·∫£n g·ªëc:</label>
                    <textarea 
                        id="inputText" 
                        placeholder="Nh·∫≠p vƒÉn b·∫£n c·ªßa b·∫°n v√†o ƒë√¢y...&#10;&#10;V√≠ d·ª•: HELLO WORLD n√†y l√† m·ªôt vƒÉn b·∫£n th·ª≠ nghi·ªám!"
                        oninput="updateStats()"
                    ></textarea>
                </div>
                
                <div class="text-group">
                    <label for="outputText">‚ú® K·∫øt qu·∫£:</label>
                    <textarea 
                        id="outputText" 
                        placeholder="K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y..."
                        readonly
                    ></textarea>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn tooltip" onclick="transformText('lowercase')" data-tooltip="Chuy·ªÉn t·∫•t c·∫£ th√†nh ch·ªØ th∆∞·ªùng">
                    üîΩ Ch·ªØ th∆∞·ªùng
                </button>
                
                <button class="btn tooltip" onclick="transformText('uppercase')" data-tooltip="Chuy·ªÉn t·∫•t c·∫£ th√†nh ch·ªØ in hoa">
                    üîº CH·ªÆ HOA
                </button>
                
                <button class="btn tooltip" onclick="transformText('capitalize')" data-tooltip="Vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu m·ªói t·ª´">
                    üéØ Vi·∫øt Hoa Ch·ªØ ƒê·∫ßu
                </button>
                
                <button class="btn tooltip" onclick="transformText('sentence')" data-tooltip="Vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu c√¢u">
                    üìù Vi·∫øt hoa ƒë·∫ßu c√¢u
                </button>
                
                <button class="btn warning tooltip" onclick="transformText('strikethrough')" data-tooltip="Th√™m g·∫°ch ngang qua ch·ªØ">
                    Ã∂GÃ∂·∫°Ã∂cÃ∂hÃ∂ Ã∂nÃ∂gÃ∂aÃ∂nÃ∂gÃ∂
                </button>
                
                <button class="btn warning tooltip" onclick="transformText('underline')" data-tooltip="Th√™m g·∫°ch ch√¢n d∆∞·ªõi ch·ªØ">
                    UÃ≤nÃ≤dÃ≤eÃ≤rÃ≤lÃ≤iÃ≤nÃ≤eÃ≤
                </button>
                
                <button class="btn success tooltip" onclick="transformText('teencode')" data-tooltip="Chuy·ªÉn sang teen code">
                    üí¨ Teen Code
                </button>
                
                <button class="btn success tooltip" onclick="transformText('reverse')" data-tooltip="ƒê·∫£o ng∆∞·ª£c vƒÉn b·∫£n">
                    üîÑ ƒê·∫£o ng∆∞·ª£c
                </button>
                
                <button class="btn primary tooltip" onclick="transformText('removeAccents')" data-tooltip="B·ªè d·∫•u ti·∫øng Vi·ªát">
                    üö´ B·ªè d·∫•u
                </button>
                
                <button class="btn primary tooltip" onclick="transformText('alternating')" data-tooltip="Xen k·∫Ω ch·ªØ hoa th∆∞·ªùng">
                    üé≠ xEn K·∫Ω
                </button>
                
                <button class="btn tooltip" onclick="transformText('removeSpaces')" data-tooltip="X√≥a t·∫•t c·∫£ kho·∫£ng tr·∫Øng">
                    üîó X√≥a kho·∫£ng tr·∫Øng
                </button>
                
                <button class="btn tooltip" onclick="transformText('addSpaces')" data-tooltip="Th√™m kho·∫£ng tr·∫Øng gi·ªØa c√°c k√Ω t·ª±">
                    ‚ûï T h √™ m   k h o ·∫£ n g   t r ·∫Ø c
                </button>
            </div>
            
            <div class="utility-controls">
                <button class="btn copy-btn" onclick="copyToClipboard()">
                    üìã Copy k·∫øt qu·∫£
                </button>
                
                <button class="btn clear-btn" onclick="clearAll()">
                    üóëÔ∏è X√≥a t·∫•t c·∫£
                </button>
                
                <button class="btn" onclick="swapText()">
                    üîÑ Ho√°n ƒë·ªïi input/output
                </button>
            </div>
            
            <div class="stats">
                <h3>üìä Th·ªëng k√™ vƒÉn b·∫£n</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="charCount">0</span>
                        <span class="stat-label">K√Ω t·ª±</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="wordCount">0</span>
                        <span class="stat-label">T·ª´</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="lineCount">0</span>
                        <span class="stat-label">D√≤ng</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="sentenceCount">0</span>
                        <span class="stat-label">C√¢u</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diff Comparison Tab -->
        <div id="diff" class="tab-content">
            <h2>üîç So s√°nh vƒÉn b·∫£n</h2>
            <p>So s√°nh s·ª± kh√°c bi·ªát gi·ªØa hai vƒÉn b·∫£n gi·ªëng nh∆∞ <a href="https://www.diffchecker.com/" target="_blank">Diffchecker</a></p>
            
            <div class="file-operations">
                <label class="file-label" for="diffFile1">üìÅ M·ªü file 1</label>
                <input type="file" id="diffFile1" class="file-input" onchange="loadFile('diffText1', this)">
                
                <label class="file-label" for="diffFile2">üìÅ M·ªü file 2</label>
                <input type="file" id="diffFile2" class="file-input" onchange="loadFile('diffText2', this)">
                
                <button class="btn" onclick="downloadDiff()">üíæ T·∫£i xu·ªëng k·∫øt qu·∫£</button>
                <button class="btn clear-btn" onclick="clearDiff()">üóëÔ∏è X√≥a t·∫•t c·∫£</button>
            </div>

            <div class="diff-container">
                <div class="diff-panel">
                    <div class="diff-header">üìÑ VƒÉn b·∫£n g·ªëc</div>
                    <div class="diff-content">
                        <textarea 
                            id="diffText1" 
                            class="diff-textarea"
                            placeholder="Nh·∫≠p ho·∫∑c d√°n vƒÉn b·∫£n ƒë·∫ßu ti√™n v√†o ƒë√¢y...&#10;&#10;V√≠ d·ª•:&#10;Xin ch√†o th·∫ø gi·ªõi&#10;ƒê√¢y l√† d√≤ng th·ª© hai&#10;VƒÉn b·∫£n m·∫´u"
                            oninput="performDiff()"
                        ></textarea>
                    </div>
                </div>

                <div class="diff-panel">
                    <div class="diff-header">üìÑ VƒÉn b·∫£n so s√°nh</div>
                    <div class="diff-content">
                        <textarea 
                            id="diffText2" 
                            class="diff-textarea"
                            placeholder="Nh·∫≠p ho·∫∑c d√°n vƒÉn b·∫£n th·ª© hai v√†o ƒë√¢y...&#10;&#10;V√≠ d·ª•:&#10;Ch√†o th·∫ø gi·ªõi&#10;ƒê√¢y l√† d√≤ng th·ª© ba&#10;VƒÉn b·∫£n m·∫´u m·ªõi"
                            oninput="performDiff()"
                        ></textarea>
                    </div>
                </div>
            </div>

            <div class="diff-result" id="diffResult">
                <div class="diff-header">üìä K·∫øt qu·∫£ so s√°nh</div>
                <div id="diffOutput" style="padding: 20px; color: #6c757d;">
                    Nh·∫≠p vƒÉn b·∫£n v√†o c·∫£ hai √¥ ph√≠a tr√™n ƒë·ªÉ xem k·∫øt qu·∫£ so s√°nh...
                </div>
            </div>
        </div>

        <!-- Code Editor Tab -->
        <div id="editor" class="tab-content">
            <h2>üíª Code Editor v·ªõi Syntax Highlighting</h2>
            <p>So·∫°n th·∫£o code v·ªõi h·ªó tr·ª£ syntax highlighting cho nhi·ªÅu ng√¥n ng·ªØ l·∫≠p tr√¨nh</p>
            
            <div class="file-operations">
                <label class="file-label" for="codeFile">üìÅ M·ªü file code</label>
                <input type="file" id="codeFile" class="file-input" onchange="loadCodeFile(this)">
                
                <button class="btn" onclick="downloadCode()">üíæ T·∫£i xu·ªëng code</button>
                <button class="btn" onclick="formatCode()">‚ú® Format code</button>
                <button class="btn" onclick="runCode()">‚ñ∂Ô∏è Ch·∫°y code</button>
                <button class="btn clear-btn" onclick="clearCode()">üóëÔ∏è X√≥a code</button>
            </div>

            <div class="code-editor-container">
                <div class="editor-panel">
                    <div class="editor-toolbar">
                        <span style="color: white; font-weight: 600;">üìù Editor</span>
                        <select id="languageSelect" class="language-select" onchange="changeLanguage()">
                            <option value="html">HTML</option>
                            <option value="css">CSS</option>
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="json">JSON</option>
                            <option value="xml">XML</option>
                            <option value="sql">SQL</option>
                            <option value="php">PHP</option>
                            <option value="java">Java</option>
                            <option value="cpp">C++</option>
                            <option value="csharp">C#</option>
                            <option value="typescript">TypeScript</option>
                        </select>
                    </div>
                    <div class="editor-content">
                        <textarea 
                            id="codeEditor" 
                            class="code-textarea"
                            placeholder="Nh·∫≠p code c·ªßa b·∫°n v√†o ƒë√¢y...&#10;&#10;HTML example:&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html&gt;&#10;&lt;head&gt;&#10;    &lt;title&gt;Hello World&lt;/title&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;h1&gt;Hello World!&lt;/h1&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;"
                            oninput="updatePreview()"
                            onkeydown="handleTab(event)"
                        ></textarea>
                    </div>
                </div>

                <div class="editor-panel">
                    <div class="editor-toolbar">
                        <span style="color: white; font-weight: 600;">üëÅÔ∏è Preview / Output</span>
                        <button class="btn" onclick="copyCode()" style="padding: 4px 12px; font-size: 12px;">üìã Copy</button>
                    </div>
                    <div class="editor-content">
                        <div id="codePreview" class="code-preview">
                            <!-- Syntax highlighted code s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tools Tab -->
        <div id="tools" class="tab-content">
            <h2>üõ†Ô∏è Advanced Tools</h2>
            
            <div class="find-replace">
                <h3>üîç Find & Replace</h3>
                <div class="find-replace-row">
                    <input type="text" id="findText" placeholder="T√¨m ki·∫øm...">
                    <input type="text" id="replaceText" placeholder="Thay th·∫ø b·∫±ng...">
                    <button onclick="findText()">üîç T√¨m</button>
                    <button onclick="replaceText()">üîÑ Thay th·∫ø</button>
                </div>
                <div class="find-replace-row">
                    <label>
                        <input type="checkbox" id="regexMode"> Regex mode
                    </label>
                    <label>
                        <input type="checkbox" id="caseSensitive"> Case sensitive
                    </label>
                    <button onclick="replaceAll()">üîÑ Thay th·∫ø t·∫•t c·∫£</button>
                    <button onclick="highlightMatches()">üéØ Highlight</button>
                </div>
            </div>

            <div class="text-areas">
                <div class="text-group">
                    <label for="toolsInput">üìù Input Text:</label>
                    <textarea 
                        id="toolsInput" 
                        placeholder="Nh·∫≠p vƒÉn b·∫£n ƒë·ªÉ s·ª≠ d·ª•ng c√°c tools..."
                        style="height: 200px;"
                    ></textarea>
                </div>
                
                <div class="text-group">
                    <label for="toolsOutput">‚ú® Output:</label>
                    <textarea 
                        id="toolsOutput" 
                        placeholder="K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y..."
                        style="height: 200px;"
                        readonly
                    ></textarea>
                </div>
            </div>

            <div class="controls">
                <button class="btn" onclick="extractEmails()">üìß Extract Emails</button>
                <button class="btn" onclick="extractUrls()">üîó Extract URLs</button>
                <button class="btn" onclick="extractNumbers()">üî¢ Extract Numbers</button>
                <button class="btn" onclick="wordFrequency()">üìä Word Frequency</button>
                <button class="btn" onclick="removeEmptyLines()">üìù Remove Empty Lines</button>
                <button class="btn" onclick="removeDuplicates()">üîÑ Remove Duplicates</button>
                <button class="btn" onclick="sortLines()">üìã Sort Lines</button>
                <button class="btn" onclick="shuffleLines()">üé≤ Shuffle Lines</button>
                <button class="btn" onclick="base64Encode()">üîê Base64 Encode</button>
                <button class="btn" onclick="base64Decode()">üîì Base64 Decode</button>
                <button class="btn" onclick="urlEncode()">üåê URL Encode</button>
                <button class="btn" onclick="urlDecode()">üåê URL Decode</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        // Teen code mapping
        const teenCodeMap = {
            'a': ['4', '@', '√°', '√†', '·∫£', '√£', '·∫°', 'ƒÉ', '·∫Ø', '·∫±', '·∫≥', '·∫µ', '·∫∑', '√¢', '·∫•', '·∫ß', '·∫©', '·∫´', '·∫≠'],
            'e': ['3', '√©', '√®', '·∫ª', '·∫Ω', '·∫π', '√™', '·∫ø', '·ªÅ', '·ªÉ', '·ªÖ', '·ªá'],
            'i': ['1', '!', '√≠', '√¨', '·ªâ', 'ƒ©', '·ªã'],
            'o': ['0', '√≥', '√≤', '·ªè', '√µ', '·ªç', '√¥', '·ªë', '·ªì', '·ªï', '·ªó', '·ªô', '∆°', '·ªõ', '·ªù', '·ªü', '·ª°', '·ª£'],
            'u': ['√∫', '√π', '·ªß', '≈©', '·ª•', '∆∞', '·ª©', '·ª´', '·ª≠', '·ªØ', '·ª±'],
            's': ['5', '$'],
            't': ['7', '+'],
            'g': ['9'],
            'b': ['6'],
            'l': ['1'],
            'z': ['2'],
            'y': ['√Ω', '·ª≥', '·ª∑', '·ªπ', '·ªµ']
        };

        // Vietnamese accent removal mapping
        const accentMap = {
            '√†': 'a', '√°': 'a', '·∫°': 'a', '·∫£': 'a', '√£': 'a', 
            'ƒÉ': 'a', '·∫Ø': 'a', '·∫±': 'a', '·∫∑': 'a', '·∫≥': 'a', '·∫µ': 'a',
            '√¢': 'a', '·∫•': 'a', '·∫ß': 'a', '·∫≠': 'a', '·∫©': 'a', '·∫´': 'a',
            '√®': 'e', '√©': 'e', '·∫π': 'e', '·∫ª': 'e', '·∫Ω': 'e',
            '√™': 'e', '·ªÅ': 'e', '·∫ø': 'e', '·ªá': 'e', '·ªÉ': 'e', '·ªÖ': 'e',
            '√¨': 'i', '√≠': 'i', '·ªã': 'i', '·ªâ': 'i', 'ƒ©': 'i',
            '√≤': 'o', '√≥': 'o', '·ªç': 'o', '·ªè': 'o', '√µ': 'o',
            '√¥': 'o', '·ªì': 'o', '·ªë': 'o', '·ªô': 'o', '·ªï': 'o', '·ªó': 'o',
            '∆°': 'o', '·ªù': 'o', '·ªõ': 'o', '·ª£': 'o', '·ªü': 'o', '·ª°': 'o',
            '√π': 'u', '√∫': 'u', '·ª•': 'u', '·ªß': 'u', '≈©': 'u',
            '∆∞': 'u', '·ª´': 'u', '·ª©': 'u', '·ª±': 'u', '·ª≠': 'u', '·ªØ': 'u',
            '·ª≥': 'y', '√Ω': 'y', '·ªµ': 'y', '·ª∑': 'y', '·ªπ': 'y',
            'ƒë': 'd'
        };

        function transformText(type) {
            const input = document.getElementById('inputText').value;
            let output = '';

            switch (type) {
                case 'lowercase':
                    output = input.toLowerCase();
                    break;

                case 'uppercase':
                    output = input.toUpperCase();
                    break;

                case 'capitalize':
                    output = input.replace(/\w\S*/g, txt => 
                        txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()
                    );
                    break;

                case 'sentence':
                    output = input.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, txt => 
                        txt.toUpperCase()
                    );
                    break;

                case 'strikethrough':
                    output = input.split('').map(char => 
                        char.trim() !== '' ? char + '\u0336' : char
                    ).join('');
                    break;

                case 'underline':
                    output = input.split('').map(char => 
                        char.trim() !== '' ? char + '\u0332' : char
                    ).join('');
                    break;

                case 'teencode':
                    output = input.toLowerCase().split('').map(char => {
                        if (teenCodeMap[char]) {
                            return teenCodeMap[char][Math.floor(Math.random() * teenCodeMap[char].length)];
                        }
                        return char;
                    }).join('');
                    break;

                case 'reverse':
                    output = input.split('').reverse().join('');
                    break;

                case 'removeAccents':
                    output = input.split('').map(char => {
                        const lowerChar = char.toLowerCase();
                        if (accentMap[lowerChar]) {
                            return char === lowerChar ? accentMap[lowerChar] : accentMap[lowerChar].toUpperCase();
                        }
                        return char;
                    }).join('');
                    break;

                case 'alternating':
                    output = input.split('').map((char, index) => 
                        index % 2 === 0 ? char.toLowerCase() : char.toUpperCase()
                    ).join('');
                    break;

                case 'removeSpaces':
                    output = input.replace(/\s+/g, '');
                    break;

                case 'addSpaces':
                    output = input.split('').join(' ');
                    break;

                default:
                    output = input;
            }

            document.getElementById('outputText').value = output;
            showNotification('‚úÖ Chuy·ªÉn ƒë·ªïi th√†nh c√¥ng!');
        }

        function copyToClipboard() {
            const output = document.getElementById('outputText');
            output.select();
            output.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                showNotification('üìã ƒê√£ copy v√†o clipboard!');
            } catch (err) {
                showNotification('‚ùå Kh√¥ng th·ªÉ copy! Vui l√≤ng th·ª≠ l·∫°i.');
            }
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
            updateStats();
            showNotification('üóëÔ∏è ƒê√£ x√≥a t·∫•t c·∫£!');
        }

        function swapText() {
            const input = document.getElementById('inputText');
            const output = document.getElementById('outputText');
            
            const temp = input.value;
            input.value = output.value;
            output.value = temp;
            
            updateStats();
            showNotification('üîÑ ƒê√£ ho√°n ƒë·ªïi vƒÉn b·∫£n!');
        }

        function updateStats() {
            const text = document.getElementById('inputText').value;
            
            const charCount = text.length;
            const wordCount = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
            const lineCount = text === '' ? 0 : text.split('\n').length;
            const sentenceCount = text.trim() === '' ? 0 : text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
            
            document.getElementById('charCount').textContent = charCount.toLocaleString();
            document.getElementById('wordCount').textContent = wordCount.toLocaleString();
            document.getElementById('lineCount').textContent = lineCount.toLocaleString();
            document.getElementById('sentenceCount').textContent = sentenceCount.toLocaleString();
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Initialize stats on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateStats();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey) {
                    switch (e.key) {
                        case 'l':
                            e.preventDefault();
                            transformText('lowercase');
                            break;
                        case 'u':
                            e.preventDefault();
                            transformText('uppercase');
                            break;
                        case 'Enter':
                            e.preventDefault();
                            copyToClipboard();
                            break;
                    }
                }
            });
        });

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Diff comparison functionality
        function performDiff() {
            const text1 = document.getElementById('diffText1').value;
            const text2 = document.getElementById('diffText2').value;
            
            if (!text1 && !text2) {
                document.getElementById('diffOutput').innerHTML = 
                    '<div style="padding: 20px; color: #6c757d;">Nh·∫≠p vƒÉn b·∫£n v√†o c·∫£ hai √¥ ph√≠a tr√™n ƒë·ªÉ xem k·∫øt qu·∫£ so s√°nh...</div>';
                return;
            }
            
            const lines1 = text1.split('\n');
            const lines2 = text2.split('\n');
            const diffResult = computeDiff(lines1, lines2);
            
            displayDiff(diffResult);
        }

        function computeDiff(lines1, lines2) {
            const maxLen = Math.max(lines1.length, lines2.length);
            const result = [];
            
            for (let i = 0; i < maxLen; i++) {
                const line1 = lines1[i] || '';
                const line2 = lines2[i] || '';
                
                if (line1 === line2) {
                    result.push({ type: 'unchanged', content: line1, lineNum1: i + 1, lineNum2: i + 1 });
                } else {
                    if (lines1[i] !== undefined && lines2[i] === undefined) {
                        result.push({ type: 'removed', content: line1, lineNum1: i + 1, lineNum2: null });
                    } else if (lines1[i] === undefined && lines2[i] !== undefined) {
                        result.push({ type: 'added', content: line2, lineNum1: null, lineNum2: i + 1 });
                    } else {
                        result.push({ type: 'removed', content: line1, lineNum1: i + 1, lineNum2: null });
                        result.push({ type: 'added', content: line2, lineNum1: null, lineNum2: i + 1 });
                    }
                }
            }
            
            return result;
        }

        function displayDiff(diffResult) {
            const output = document.getElementById('diffOutput');
            let html = '';
            
            diffResult.forEach(line => {
                const lineNumbers = line.lineNum1 && line.lineNum2 
                    ? `${line.lineNum1}:${line.lineNum2}` 
                    : line.lineNum1 
                        ? `${line.lineNum1}:-`
                        : `-:${line.lineNum2}`;
                
                html += `<div class="diff-line ${line.type}">
                    <span style="color: #999; margin-right: 10px; font-size: 12px;">${lineNumbers}</span>
                    ${escapeHtml(line.content)}
                </div>`;
            });
            
            output.innerHTML = html;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function clearDiff() {
            document.getElementById('diffText1').value = '';
            document.getElementById('diffText2').value = '';
            document.getElementById('diffOutput').innerHTML = 
                '<div style="padding: 20px; color: #6c757d;">Nh·∫≠p vƒÉn b·∫£n v√†o c·∫£ hai √¥ ph√≠a tr√™n ƒë·ªÉ xem k·∫øt qu·∫£ so s√°nh...</div>';
            showNotification('üóëÔ∏è ƒê√£ x√≥a t·∫•t c·∫£ vƒÉn b·∫£n!');
        }

        function downloadDiff() {
            const diffOutput = document.getElementById('diffOutput').innerText;
            const blob = new Blob([diffOutput], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'diff-result.txt';
            a.click();
            URL.revokeObjectURL(url);
            showNotification('üíæ ƒê√£ t·∫£i xu·ªëng k·∫øt qu·∫£ so s√°nh!');
        }

        // File loading functionality
        function loadFile(targetId, input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById(targetId).value = e.target.result;
                if (targetId.includes('diff')) {
                    performDiff();
                }
                showNotification(`üìÅ ƒê√£ t·∫£i file: ${file.name}`);
            };
            reader.readAsText(file);
        }

        // Code editor functionality
        const codeTemplates = {
            html: `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello World!</h1>
</body>
</html>`,
            css: `body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 800px;
    margin: 0 auto;
}

h1 {
    color: #333;
    text-align: center;
}`,
            javascript: `// JavaScript Example
function greetUser(name) {
    console.log(\`Hello, \${name}!\`);
    return \`Welcome, \${name}!\`;
}

// Call the function
const userName = "World";
const message = greetUser(userName);
document.body.innerHTML = message;`,
            python: `# Python Example
def greet_user(name):
    """Greet a user with their name"""
    print(f"Hello, {name}!")
    return f"Welcome, {name}!"

# Call the function
user_name = "World"
message = greet_user(user_name)
print(message)`,
            json: `{
    "name": "Text Transformer Pro",
    "version": "1.0.0",
    "description": "A powerful text transformation tool",
    "features": [
        "Text transformation",
        "Diff comparison", 
        "Code editor",
        "Advanced tools"
    ],
    "author": "Developer",
    "license": "MIT"
}`
        };

        function changeLanguage() {
            const language = document.getElementById('languageSelect').value;
            const editor = document.getElementById('codeEditor');
            
            if (codeTemplates[language] && !editor.value.trim()) {
                editor.value = codeTemplates[language];
            }
            
            updatePreview();
            showNotification(`üîÑ ƒê√£ chuy·ªÉn sang ng√¥n ng·ªØ: ${language.toUpperCase()}`);
        }

        function updatePreview() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            const preview = document.getElementById('codePreview');
            
            // Basic syntax highlighting (simplified)
            let highlightedCode = escapeHtml(code);
            
            // Simple highlighting patterns
            if (language === 'html') {
                highlightedCode = highlightedCode
                    .replace(/(&lt;\/?[^&gt;]+&gt;)/g, '<span style="color: #e06c75;">$1</span>')
                    .replace(/(\w+)=/g, '<span style="color: #61afef;">$1</span>=');
            } else if (language === 'css') {
                highlightedCode = highlightedCode
                    .replace(/([.#]?[\w-]+)\s*{/g, '<span style="color: #e06c75;">$1</span> {')
                    .replace(/([\w-]+):/g, '<span style="color: #61afef;">$1</span>:');
            } else if (language === 'javascript' || language === 'typescript') {
                highlightedCode = highlightedCode
                    .replace(/\b(function|var|let|const|if|else|for|while|return|class|import|export)\b/g, '<span style="color: #c678dd;">$1</span>')
                    .replace(/\/\/.*$/gm, '<span style="color: #5c6370;">$&</span>');
            } else if (language === 'python') {
                highlightedCode = highlightedCode
                    .replace(/\b(def|class|if|else|elif|for|while|return|import|from|try|except)\b/g, '<span style="color: #c678dd;">$1</span>')
                    .replace(/#.*$/gm, '<span style="color: #5c6370;">$&</span>');
            }
            
            preview.innerHTML = highlightedCode;
        }

        function handleTab(event) {
            if (event.key === 'Tab') {
                event.preventDefault();
                const textarea = event.target;
                const start = textarea.selectionStart;
                const end = textarea.selectionEnd;
                
                textarea.value = textarea.value.substring(0, start) + '    ' + textarea.value.substring(end);
                textarea.selectionStart = textarea.selectionEnd = start + 4;
                
                updatePreview();
            }
        }

        function loadCodeFile(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('codeEditor').value = e.target.result;
                
                // Auto-detect language from file extension
                const ext = file.name.split('.').pop().toLowerCase();
                const languageMap = {
                    'html': 'html', 'htm': 'html',
                    'css': 'css',
                    'js': 'javascript', 'jsx': 'javascript',
                    'ts': 'typescript', 'tsx': 'typescript',
                    'py': 'python',
                    'json': 'json',
                    'xml': 'xml',
                    'sql': 'sql',
                    'php': 'php',
                    'java': 'java',
                    'cpp': 'cpp', 'c': 'cpp', 'h': 'cpp',
                    'cs': 'csharp'
                };
                
                if (languageMap[ext]) {
                    document.getElementById('languageSelect').value = languageMap[ext];
                }
                
                updatePreview();
                showNotification(`üìÅ ƒê√£ t·∫£i file code: ${file.name}`);
            };
            reader.readAsText(file);
        }

        function downloadCode() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            const extensions = {
                'html': 'html', 'css': 'css', 'javascript': 'js', 'typescript': 'ts',
                'python': 'py', 'json': 'json', 'xml': 'xml', 'sql': 'sql',
                'php': 'php', 'java': 'java', 'cpp': 'cpp', 'csharp': 'cs'
            };
            
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `code.${extensions[language] || 'txt'}`;
            a.click();
            URL.revokeObjectURL(url);
            showNotification('üíæ ƒê√£ t·∫£i xu·ªëng code!');
        }

        function formatCode() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            
            let formatted = code;
            
            if (language === 'json') {
                try {
                    const parsed = JSON.parse(code);
                    formatted = JSON.stringify(parsed, null, 2);
                } catch (e) {
                    showNotification('‚ùå JSON kh√¥ng h·ª£p l·ªá!');
                    return;
                }
            }
            
            document.getElementById('codeEditor').value = formatted;
            updatePreview();
            showNotification('‚ú® ƒê√£ format code!');
        }

        function runCode() {
            const code = document.getElementById('codeEditor').value;
            const language = document.getElementById('languageSelect').value;
            
            if (language === 'html') {
                const newWindow = window.open();
                newWindow.document.write(code);
                newWindow.document.close();
                showNotification('‚ñ∂Ô∏è ƒê√£ ch·∫°y HTML trong tab m·ªõi!');
            } else if (language === 'javascript') {
                try {
                    const result = eval(code);
                    showNotification('‚ñ∂Ô∏è Code ƒë√£ ch·∫°y! Check console.');
                    console.log('Result:', result);
                } catch (e) {
                    showNotification('‚ùå L·ªói: ' + e.message);
                }
            } else {
                showNotification('‚ö†Ô∏è Ch·ª©c nƒÉng ch·∫°y code ch·ªâ h·ªó tr·ª£ HTML v√† JavaScript!');
            }
        }

        function clearCode() {
            document.getElementById('codeEditor').value = '';
            document.getElementById('codePreview').innerHTML = '';
            showNotification('üóëÔ∏è ƒê√£ x√≥a t·∫•t c·∫£ code!');
        }

        function copyCode() {
            const code = document.getElementById('codeEditor').value;
            navigator.clipboard.writeText(code).then(() => {
                showNotification('üìã ƒê√£ copy code v√†o clipboard!');
            });
        }

        // Advanced tools functionality
        function extractEmails() {
            const text = document.getElementById('toolsInput').value;
            const emailRegex = /\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g;
            const emails = text.match(emailRegex) || [];
            document.getElementById('toolsOutput').value = emails.join('\n');
            showNotification(`üìß T√¨m th·∫•y ${emails.length} email(s)!`);
        }

        function extractUrls() {
            const text = document.getElementById('toolsInput').value;
            const urlRegex = /https?:\/\/[^\s]+/g;
            const urls = text.match(urlRegex) || [];
            document.getElementById('toolsOutput').value = urls.join('\n');
            showNotification(`üîó T√¨m th·∫•y ${urls.length} URL(s)!`);
        }

        function extractNumbers() {
            const text = document.getElementById('toolsInput').value;
            const numberRegex = /\d+(?:\.\d+)?/g;
            const numbers = text.match(numberRegex) || [];
            document.getElementById('toolsOutput').value = numbers.join('\n');
            showNotification(`üî¢ T√¨m th·∫•y ${numbers.length} s·ªë!`);
        }

        function wordFrequency() {
            const text = document.getElementById('toolsInput').value.toLowerCase();
            const words = text.match(/\b\w+\b/g) || [];
            const frequency = {};
            
            words.forEach(word => {
                frequency[word] = (frequency[word] || 0) + 1;
            });
            
            const sorted = Object.entries(frequency)
                .sort((a, b) => b[1] - a[1])
                .map(([word, count]) => `${word}: ${count}`)
                .join('\n');
            
            document.getElementById('toolsOutput').value = sorted;
            showNotification('üìä ƒê√£ ph√¢n t√≠ch t·∫ßn su·∫•t t·ª´!');
        }

        function removeEmptyLines() {
            const text = document.getElementById('toolsInput').value;
            const result = text.split('\n').filter(line => line.trim() !== '').join('\n');
            document.getElementById('toolsOutput').value = result;
            showNotification('üìù ƒê√£ x√≥a c√°c d√≤ng tr·ªëng!');
        }

        function removeDuplicates() {
            const text = document.getElementById('toolsInput').value;
            const lines = text.split('\n');
            const unique = [...new Set(lines)];
            document.getElementById('toolsOutput').value = unique.join('\n');
            showNotification('üîÑ ƒê√£ x√≥a c√°c d√≤ng tr√πng l·∫∑p!');
        }

        function sortLines() {
            const text = document.getElementById('toolsInput').value;
            const lines = text.split('\n').sort();
            document.getElementById('toolsOutput').value = lines.join('\n');
            showNotification('üìã ƒê√£ s·∫Øp x·∫øp c√°c d√≤ng!');
        }

        function shuffleLines() {
            const text = document.getElementById('toolsInput').value;
            const lines = text.split('\n');
            for (let i = lines.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [lines[i], lines[j]] = [lines[j], lines[i]];
            }
            document.getElementById('toolsOutput').value = lines.join('\n');
            showNotification('üé≤ ƒê√£ x√°o tr·ªôn c√°c d√≤ng!');
        }

        function base64Encode() {
            const text = document.getElementById('toolsInput').value;
            const encoded = btoa(unescape(encodeURIComponent(text)));
            document.getElementById('toolsOutput').value = encoded;
            showNotification('üîê ƒê√£ m√£ h√≥a Base64!');
        }

        function base64Decode() {
            const text = document.getElementById('toolsInput').value;
            try {
                const decoded = decodeURIComponent(escape(atob(text)));
                document.getElementById('toolsOutput').value = decoded;
                showNotification('üîì ƒê√£ gi·∫£i m√£ Base64!');
            } catch (e) {
                showNotification('‚ùå D·ªØ li·ªáu Base64 kh√¥ng h·ª£p l·ªá!');
            }
        }

        function urlEncode() {
            const text = document.getElementById('toolsInput').value;
            const encoded = encodeURIComponent(text);
            document.getElementById('toolsOutput').value = encoded;
            showNotification('üåê ƒê√£ m√£ h√≥a URL!');
        }

        function urlDecode() {
            const text = document.getElementById('toolsInput').value;
            try {
                const decoded = decodeURIComponent(text);
                document.getElementById('toolsOutput').value = decoded;
                showNotification('üåê ƒê√£ gi·∫£i m√£ URL!');
            } catch (e) {
                showNotification('‚ùå D·ªØ li·ªáu URL kh√¥ng h·ª£p l·ªá!');
            }
        }

        // Find and replace functionality
        function findText() {
            const findStr = document.getElementById('findText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('‚ö†Ô∏è Vui l√≤ng nh·∫≠p t·ª´ c·∫ßn t√¨m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? 'g' : 'gi')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? 'g' : 'gi');
            
            const matches = targetText.match(regex);
            const count = matches ? matches.length : 0;
            
            showNotification(`üîç T√¨m th·∫•y ${count} k·∫øt qu·∫£!`);
        }

        function replaceText() {
            const findStr = document.getElementById('findText').value;
            const replaceStr = document.getElementById('replaceText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('‚ö†Ô∏è Vui l√≤ng nh·∫≠p t·ª´ c·∫ßn t√¨m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? '' : 'i')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? '' : 'i');
            
            const result = targetText.replace(regex, replaceStr);
            document.getElementById('toolsOutput').value = result;
            showNotification('üîÑ ƒê√£ thay th·∫ø vƒÉn b·∫£n!');
        }

        function replaceAll() {
            const findStr = document.getElementById('findText').value;
            const replaceStr = document.getElementById('replaceText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('‚ö†Ô∏è Vui l√≤ng nh·∫≠p t·ª´ c·∫ßn t√¨m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? 'g' : 'gi')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? 'g' : 'gi');
            
            const result = targetText.replace(regex, replaceStr);
            document.getElementById('toolsOutput').value = result;
            showNotification('üîÑ ƒê√£ thay th·∫ø t·∫•t c·∫£!');
        }

        function highlightMatches() {
            const findStr = document.getElementById('findText').value;
            const targetText = document.getElementById('toolsInput').value;
            
            if (!findStr) {
                showNotification('‚ö†Ô∏è Vui l√≤ng nh·∫≠p t·ª´ c·∫ßn t√¨m!');
                return;
            }
            
            const regex = document.getElementById('regexMode').checked 
                ? new RegExp(findStr, document.getElementById('caseSensitive').checked ? 'g' : 'gi')
                : new RegExp(findStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), document.getElementById('caseSensitive').checked ? 'g' : 'gi');
            
            const highlighted = targetText.replace(regex, '**$&**');
            document.getElementById('toolsOutput').value = highlighted;
            showNotification('üéØ ƒê√£ highlight c√°c k·∫øt qu·∫£ t√¨m ki·∫øm!');
        }
    </script>

    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
</body>
</html>